###Ход мыслей был таков:
раз есть сущности:
- котировки,
- elvl - неочевидно: сделать отдельной сущностью? 
Решил сделать elvl всего лишь отдельным полем в таблице.
### Оптимизация
Решил оптимизировать написав логику на стороне БД
без чтения - трансформации - записи, 
а одним запросом.
В конце разработки пришла мысль что можно было сделать просто сохранение
а вычисление elvl при получении только, скорее так и подразумевалось.
но в моем решении я продемонстриовал создание более сложного запроса к БД